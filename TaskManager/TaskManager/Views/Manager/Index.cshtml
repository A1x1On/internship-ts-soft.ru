@model TaskManager.TASKS
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutManager.cshtml";
}

<h2>Список моих дел</h2>
@Request.QueryString["m_ResultMassage"]
<br/>



<div class="list-tasks" >
    @Html.Partial("_PartialSelectionTasks", ViewData["Query"])
</div>
<div class="container">
    @using (Html.BeginForm("Change", "Manager", FormMethod.Post))
    {
        <div class="mainTaskInfo">
            @Html.ValidationSummary(true)
            @Html.AntiForgeryToken()
            @Html.TextBoxFor(x => x.TITLE, new { @Class = "t-title", @placeholder = "Введите название" })<br />
            @Html.ValidationMessageFor(x => x.TITLE)

            @Html.TextBoxFor(x => x.DISCRIPTION, new { @Class = "t-disc", @placeholder = "Описание задачи" })<br />
            @Html.ValidationMessageFor(x => x.DISCRIPTION)
            <input type="date" runat="server" id="myDate" name="sel_date" />
            @Html.ValidationMessageFor(x => x.TASKTERM)
        </div>


        <div ng-controller="DinamicTag" class="DinamicTag" onkeyup="return(false)">
            @Html.ValidationMessageFor(x => x.TAGS)
            <input type="text" ng-model="name" ng-keyup="TagListToDOM(name)" class="inputTag" placeholder="Введите тег" />
            <div class="sel-list"  onkeydown="return(false)" tabindex="0">
                <div class="optionTag" ng-repeat="(i, u) in Tags | filter:query" tabindex='{{i+1}}'>{{u.TITLETAG}}</div>
            </div>
            <div class="ForTags"></div>
         </div>

        @Html.HiddenFor(x => x.TAGS, new { @placeholder = "Введите теги" })
        @Html.HiddenFor(x => x.TASKSTATUS, new { @Class ="TASKSTATUS", @Value = @ViewBag.CurStatus })<br />
        @Html.HiddenFor(x => x.TASKTERM, new { @Class = "valDate", @placeholder = "dd-mm-yy" })
        @Html.HiddenFor(x => x.USID, new { @Value = @ViewBag.CurId })
        @Html.HiddenFor(x => x.TASKID, new { @Class = "TASKID" })
        <br/><br/>
    <input type="submit" value="Сохранить" class="saveTask" />
    }
</div>


@using (Html.BeginForm("Logout", "Account", FormMethod.Post))
{
    <input type="submit" value="Выход" />
}





